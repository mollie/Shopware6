
{% block sw_order_detail_general_info_card %}
    {% parent %}
    <sw-card
            class="sw-order-detail-base__mollie-info"
            position-identifier="sw-order-detail-mollie-info"
            :title="$tc('mollie-payments.pluginTitle')"
    >
        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->
        {% block sw_order_detail_general_mollie_info %}
            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->
            {% block sw_order_detail_general_mollie_info_action_buttons %}
                <sw-button-group>
                    {% block sw_order_detail_general_mollie_info_action_buttons_order_shipping %}
                        <sw-button
                                class="sw-order-line-items-grid__actions-ship-button"
                                :disabled="!isShippingPossible"
                                variant="primary" size="small"
                                @click="onOpenShipOrderModal"
                        >{{ $tc('mollie-payments.general.shipThroughMollie') }}</sw-button>
                    {% endblock %}
                {% block sw_order_detail_general_mollie_info_action_buttons_refund_manager %}
                    <sw-button
                            class="sw-order-line-items-grid__actions-refund-btn"
                            variant="primary" size="small"
                            :disabled="!isRefundManagerPossible"
                            @click="onOpenRefundManager"
                    > {{ $tc('sw-order.detailExtended.refundManager.btnOpenRefundManager') }}</sw-button>
                    {% endblock %}
                </sw-button-group>
            {% endblock %}
        {% endblock %}
    </sw-card>
{% endblock %}

{% block sw_order_detail_general_line_items_grid %}

    <sw-order-line-items-grid :order="order"
                              :context="versionContext"
                              ref="sw-order-line-item-grid"
                              :remainingAmount="remainingAmount"
                              :refundedAmount="refundedAmount"
                              :voucherAmount="voucherAmount"
                              :refunds="refunds"
                              :shopwareVersion="6.5"
                              :showRefundModal="showRefundModal"
                              :showShipOrderModal="showShipOrderModal"
                              @refund-success="onSaveEdits"
                              @refund-cancelled="onSaveEdits"
                              @ship-order-success="onSaveEdits"
                              @ship-item-success="onSaveEdits"
                              @item-delete="saveAndRecalculate"
                              @item-edit="recalculateAndReload"
                              @existing-item-edit="saveAndRecalculate"
                              @item-added="recalculateAndReload"
                              @item-cancel="recalculateAndReload"
                              @refund-manager-possible="onRefundManagerPossible"
                              @shipping-possible="onShippingPossible"
                              @toggle-refund-manager-modal="onToggleRefundManagerModal"
                              @toggle-ship-order-modal="onToggleShipOrderModal"
    >



    </sw-order-line-items-grid>
{% endblock %}

{% block sw_order_detail_general_line_items_summary_entries %}
    {% parent %}
    <dt v-if="refundedAmount > 0"><strong>{{ $tc('sw-order.detailExtended.totalRefunds') }}</strong></dt>
    <dd v-if="refundedAmount > 0"><strong>{{ refundedAmount | currency(order.currency.shortName) }}</strong></dd>

    <dt v-if="refundAmountPending > 0"><strong>{{ $tc('sw-order.detailExtended.totalRefundsPending') }}</strong></dt>
    <dd v-if="refundAmountPending > 0"><strong>{{ refundAmountPending | currency(order.currency.shortName) }}</strong></dd>

    <dt v-if="shippedQuantity > 0"><strong>{{ $tc('sw-order.detailExtended.totalShipments', 0, { quantity: shippedQuantity }) }}</strong></dt>
    <dd v-if="shippedQuantity > 0"><strong>{{ shippedAmount | currency(order.currency.shortName) }}</strong></dd>
{% endblock %}

